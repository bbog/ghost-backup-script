<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ghost Backup Script</title>
    <meta name="description" content="A Python script that automates the backup process for Ghost blogs"/>
    <meta name="keywords" content="ghost,backup,script,python"/>

    <!-- # Facebook Open Graph tags -->
    <meta property="og:title" content="Ghost Backup Script"/> 
    <meta property="og:type" content="website"/> 
    <meta property="og:url" content="http://awesomestsite.com/awesomest-projects/ghost-backup-script/"/> 
    <meta property="og:image" content="images/running_ghost_backup_script_screenshot.png"/> 
    <meta property="og:description" content="A Python script that automates the backup process for Ghost blogs"/>

    <!-- #LinkedIn tags -->
    <meta property="linkedIn:title" content="Ghost Backup Script"/>
    <meta property="linkedIn:url" content="http://awesomestsite.com/awesomest-projects/ghost-backup-script/"/>
    <meta property="linkedIn:image" content="images/running_ghost_backup_script_screenshot.png"/> 
    <meta property="linkedIn:summary" content="A Python script that automates the backup process for Ghost blogs"/>

    <!-- css styles -->
    <link href="//fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/base.min.css" />
    <link rel="stylesheet" href="css/style.css" />

    <!-- code highlighting -->
    <link rel="stylesheet" href="css/prism.coy.min.css">


    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

    <div class="main-container">
        <!-- fork me on github -->
        <a href="https://github.com/bbog/ghost-backup-script">
            <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
        </a>

        <!-- main header -->
        <h1>Ghost backup script</h1>
        <hr/>

        <p>A helpful tool for the lazy, this python scripts allows an easier backup of your Ghost blog(s) database. Check out the <a href="https://github.com/bbog/ghost-backup-script" title="Ghost backup script">Github page</a> for the code, my <a href="https://itsybitsybytes.com/backing-up-ghost-blogs-with-python" title="Backing up Ghost blogs with Python">blog post</a> for some insights or just read the instructions below.</p>

        <hr>

        <!-- download -->
        <h2>Download</h2>

        <ul>
            <li>
                <a title="Ghost backup script" href="https://github.com/bbog/ghost-backup-script/archive/master.zip">Download master.zip</a>
            </li>
            <li>
                <a title="Ghost backup python script" href="https://github.com/bbog/ghost-backup-script/raw/master/backup.py">Download backup.py from Github</a>
            </li>
            <li>
                <a title="Ghost backup python script" href="backup.py">Download backup.py</a>
            </li>
        </ul>

        <p></p>

        

        <!-- how to -->
        <h2>How to use it</h2>

        <p>After you download the archive from Github or just the backup script itself, you have to configure the <i>config.json</i> file, entering your blog(s) details as well as some optional backup settings.
        <br/>
        Alternatively, you can use the <a href="#automatic_config">form</a> provided on this page. Its code is entirely client-side so your password(s) will not be saved anywhere else but feel free to use a mock one and edit at the end just to be on the safe side :)
        </p>

        <!-- settings -->
        <h2>Settings</h2>

        <p>This is how the config file looks like:</p>

        <pre>
            <code class="language-js">{
    "settings": {
        "output_path": "output",
        "max_backup_files": 5
    },
    "blogs": [
        {
            "url": "http://blog.domain/",
            "client_secret": "client_secret",
            "username": "admin_username",
            "password": "admin_password"
        }
    ]
    }</code>
        </pre>

        <ul>
            <li>
                <strong>output_path</strong> refers to the folder where the backup will be made. The default value is "<i>output</i>". Inside there will automatically created folders for each of your blog, just like in the printscreen below.
                <br/>
                <a class="thumb_link" href="images/output_folder_screenshot.png" target="_blank" title="ghost backup script output folder screenshot"><img src="images/output_folder_screenshot.png" alt="ghost backup script output folder screenshot"/></a>
            </li>
            <li>
                <strong>max_backup_files</strong> refers to the maximum number of backup files kept. The default value of <strong>5</strong> means that only up to 5 backup files are saved for each blog. After this, the oldest file in the list will be automatically deleted, keeping only the 5 most recent ones so it won't clutter your hard drive. Setting it as "<i>-1</i>" will disable this option.
            </li>
            <li>
                <strong>url</strong> refers to blog's root url. If you access your blog via <i>http://blog.domain/ghost/</i> your url will be <i>http://blog.domain/</i>.
            </li>
            <li>
                <strong>client_secret</strong> is automatically generated by Ghost after you install the blog and is necessary for remote form submission. To find out your client secret, use the instructions in <a href="#client_secret">this section</a>.
            </li>
            <li>
                <strong>username</strong> refers to blog's login username.
            </li>
            <li>
                <strong>password</strong> refers to the blog's login password.
            </li>
        </ul>


        <!-- instructions -->
        <h2>Running the script</h2>

        <p>
            Open a terminal window and navigate to the location of the <i>backup.py</i> file. Then run <code>python backup.py</code> and watch the magic happen!
            <br/>
            <a class="thumb_link" href="images/running_ghost_backup_script_screenshot.png" target="_blank" title="ghost backup script screenshot"><img src="images/running_ghost_backup_script_screenshot.png" alt="ghost backup script screenshot"/></a>
        </p>


        <!-- cron job -->
        <h2>Running the script with a cron job</h2>

        <p>
            I will update this as soon as I find a solution!
        </p>

        <!-- client secret -->
        <h2 id="client_secret">How to find your client secret</h2>

        <p>Go to the blog's login page, open the browser's <strong>Developer Tools</strong> and go to the <strong>Network</strong> tab.</p>

        <a class="thumb_link" href="images/client_secret_step_1.png" target="_blank" title="finding the client secret screenshot"><img src="images/client_secret_step_1.png" alt="finding the client secret"/></a>

        <p>After you log in, look for the <code>token</code> request, select it and scroll down to see the form data. The client secret will be there.</p>

        <a class="thumb_link" href="images/client_secret_step_2.png" target="_blank" title="finding the client secret screenshot"><img src="images/client_secret_step_2.png" alt="finding the client secret"/></a>


        <h2 id="automatic_config">Generate your config file</h2>

        <p>Use the form below to get the code for your <i>config.json</i> file.</p>

        <div id="config_generator">

            <div class="config_form">

                <div class="config_form__block">

                    <h3>Script settings</h3>

                    <label>Output path:</label>
                    <input v-model="output_path">
                    <br/>

                    <label>Maximum backup files:</label>
                    <input v-model="max_backup_files">
                    
                    <h3>Blog(s) settings</h3>
                    <div class="config_form__blog_settings" v-for="blog in blogs">
                        
                        <label>Blog url:</label><input v-model="blog.url" placeholder="http://blog.com/ghost/">
                        <br/>

                        <label>Client secret:</label><input v-model="blog.client_secret" placeholder="12client3secret45">
                        <br/>

                        <label>Username:</label><input v-model="blog.username" placeholder="author@ghostblog.org">
                        <br/>

                        <label>Password:</label><input v-model="blog.password" placeholder="password" type="password">
                    </div>

                    <div class="text-center">
                        <button v-on:click="addBlog()">Add blog</button>
                    </div>
                </div>

                <div class="config_form__block">

                    <h3>Config file</h3>

                    <p>
                        Click on "Generate" to create your custom config file and then copy the code to <i>config.json</i>.
                    </p>
                    <div class="text-center">
                        <button v-on:click="generateConfig()">Generate</button>
                    </div>

                    <div>
                        <textarea v-model="config" v-on:click="copyConfig()"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <hr>

        <footer>Developed by <a href="http://bogdanbucur.eu">Bogdan BUCUR</a></footer>

        <!-- code highlighting -->
        <script src="js/prism.min.js"></script>
        <!-- vue -->
        <script src="js/vue.js"></script>
        <script src="js/app.js"></script>
    </div>
</body>

